!function(){return function t(e,n,i){function r(o,a){if(!n[o]){if(!e[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[o]={exports:{}};e[o][0].call(u.exports,function(t){return r(e[o][1][t]||t)},u,u.exports,t,e,n,i)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}}()({1:[function(t,e,n){const i=(()=>{"use strict";const n=void 0!==e&&e.exports?t("scrypt-async"):window.scrypt;if("function"!=typeof n)throw new Error("Aprico requires scrypt-async-js library.");const i={N:Math.pow(2,14),r:8,p:1,dkLen:32,encoding:"hex"},r={N:Math.pow(2,5),r:8,p:1,dkLen:32,encoding:"hex"},s="abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",o="123456789",a="_!$-+";let l={length:20,letters:!0,numbers:!0,symbols:!0,variant:!1};const c=(t,e,n)=>{const i=e.length,r=n.length;let s=0;for(let n=0,r=t.length;n<r;n++)s=s*i+e.indexOf(t.charAt(n));if(s<0)return 0;let o=s%r,a=n.charAt(o),l=Math.floor(s/r);for(;l;)o=l%r,l=Math.floor(l/r),a=n.charAt(o)+a;return a},u=t=>{let e="";l.symbols&&(e+=a),l.numbers&&(e+=o),l.letters&&(e+=s);let i="",u=t.match(/(.{1,7})/g);for(let s=0,o=u.length-1;s<o;s++)l.length>9&&n(t,u[o-s-1],r,function(t){u=t.match(/(.{1,7})/g)}),i+=c(u[s],"0123456789abcdef",e);if(i.length<=l.length)return".";let h=(i.length-l.length)/2|0,f=(i=i.substring(h,h+l.length)).charAt(0);return l.letters&&l.length>6&&!/[a-zA-Z]/.test(f)&&(i=i.replace(f,c(f,a+o,s))),i},h=t=>("http"==(t=t.trim().toLowerCase()).substring(0,4)&&(t=t.substring(t.indexOf("://")+3,t.length)),-1!==t.indexOf(".")&&-1!==t.indexOf("/")&&(t=(t=t.split("/"))[0]),t);return{getPassword:(t,e,s,o)=>{o&&(t=>{for(let e in l)t.hasOwnProperty(e)&&(l[e]=t[e]);if(l.letters=!!l.letters,l.numbers=!!l.numbers,l.symbols=!!l.symbols,!l.letters&&!l.symbols&&!l.numbers)throw new Error("At least one character set (letters, numbers, symbols) must be chosen.");if(l.length=+l.length,"number"!=typeof l.length||l.length<4||l.length>40)throw new Error("Password length must be a number between 4 and 40.")})(o);let a=t+"."+(e=h(e))+"."+l.length+ +l.letters+ +l.symbols+ +l.numbers;l.variant&&"string"==typeof l.variant&&(a+="."+l.variant);let c={};return n(a,s,i,function(t){c.hash=t,c.pass=u(t),c=(t=>{let e=!1;for(;!e;)e=!0,!l.letters||/[a-z]/.test(t.pass)&&/[A-Z]/.test(t.pass)&&!/([A-z])\1{2}/.test(t.pass)||(e=!1),e&&l.numbers&&(!/[\d]/.test(t.pass)||/([\d])\1{2}/.test(t.pass))&&(e=!1),e&&l.symbols&&(!/[!$\-+_]/.test(t.pass)||/([!$\-+_])\1{2}/.test(t.pass))&&(e=!1),e||n(t.hash,t.pass,r,function(e){t.hash=e,t.pass=u(e)});return t})(c)}),c},getHashId:t=>{let e="",r=Math.pow(t.length,(t.match(/[aeiou]/gi)||[0,0,0]).length)+"";return r=c(r,"0123456789.e+Infity",o+a+s)+"",n(t,r,i,function(t){e=t}),e},normalizeService:h,version:"1.0.0"}})();void 0!==e&&e.exports?e.exports=i:window.aprico=i},{"scrypt-async":6}],2:[function(t,e,n){},{}],3:[function(t,e,n){(function(n){!function(){var i;i=void 0!==e&&void 0!==e.exports?t("./pnglib"):window.PNGlib;var r=function(t,e){if("string"!=typeof t||t.length<15)throw"A hash of at least 15 characters is required.";this.defaults={background:[240,240,240,255],margin:.08,size:64,saturation:.7,brightness:.5,format:"png"},this.options="object"==typeof e?e:this.defaults,"number"==typeof arguments[1]&&(this.options.size=arguments[1]),arguments[2]&&(this.options.margin=arguments[2]),this.hash=t,this.background=this.options.background||this.defaults.background,this.size=this.options.size||this.defaults.size,this.format=this.options.format||this.defaults.format,this.margin=void 0!==this.options.margin?this.options.margin:this.defaults.margin;var n=parseInt(this.hash.substr(-7),16)/268435455,i=this.options.saturation||this.defaults.saturation,r=this.options.brightness||this.defaults.brightness;this.foreground=this.options.foreground||this.hsl2rgb(n,i,r)};r.prototype={background:null,foreground:null,hash:null,margin:null,size:null,format:null,image:function(){return this.isSvg()?new s(this.size,this.foreground,this.background):new i(this.size,this.size,256)},render:function(){var t,e,n=this.image(),i=this.size,r=Math.floor(i*this.margin),s=Math.floor((i-2*r)/5),o=Math.floor((i-5*s)/2),a=n.color.apply(n,this.background),l=n.color.apply(n,this.foreground);for(t=0;t<15;t++)e=parseInt(this.hash.charAt(t),16)%2?a:l,t<5?this.rectangle(2*s+o,t*s+o,s,s,e,n):t<10?(this.rectangle(1*s+o,(t-5)*s+o,s,s,e,n),this.rectangle(3*s+o,(t-5)*s+o,s,s,e,n)):t<15&&(this.rectangle(0*s+o,(t-10)*s+o,s,s,e,n),this.rectangle(4*s+o,(t-10)*s+o,s,s,e,n));return n},rectangle:function(t,e,n,i,r,s){var o,a;if(this.isSvg())s.rectangles.push({x:t,y:e,w:n,h:i,color:r});else for(o=t;o<t+n;o++)for(a=e;a<e+i;a++)s.buffer[s.index(o,a)]=r},hsl2rgb:function(t,e,n){return t*=6,[255*(e=[n+=e*=n<.5?n:1-n,n-t%1*e*2,n-=e*=2,n,n+t%1*e,n+e])[~~t%6],255*e[(16|t)%6],255*e[(8|t)%6]]},toString:function(t){return t?this.render().getDump():this.render().getBase64()},isSvg:function(){return this.format.match(/svg/i)}};var s=function(t,e,n){this.size=t,this.foreground=this.color.apply(this,e),this.background=this.color.apply(this,n),this.rectangles=[]};s.prototype={size:null,foreground:null,background:null,rectangles:null,color:function(t,e,n,i){var r=[t,e,n].map(Math.round);return r.push(i>=0&&i<=255?i/255:1),"rgba("+r.join(",")+")"},getDump:function(){var t,e,n,i=this.foreground,r=this.background,s=.005*this.size;for(e="<svg xmlns='http://www.w3.org/2000/svg' width='"+this.size+"' height='"+this.size+"' style='background-color:"+r+";'><g style='fill:"+i+"; stroke:"+i+"; stroke-width:"+s+";'>",t=0;t<this.rectangles.length;t++)(n=this.rectangles[t]).color!=r&&(e+="<rect  x='"+n.x+"' y='"+n.y+"' width='"+n.w+"' height='"+n.h+"'/>");return e+="</g></svg>"},getBase64:function(){if("function"==typeof btoa)return btoa(this.getDump());if(n)return new n(this.getDump(),"binary").toString("base64");throw"Cannot generate base64 output"}},void 0!==e&&void 0!==e.exports?e.exports=r:window.Identicon=r}()}).call(this,t("buffer").Buffer)},{"./pnglib":4,buffer:2}],4:[function(t,e,n){!function(){function t(t,e){for(var n=2;n<arguments.length;n++)for(var i=0;i<arguments[n].length;i++)t[e++]=arguments[n].charAt(i)}function n(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)}function i(t){return String.fromCharCode(255&t,t>>8&255)}var r=function(e,r,s){this.width=e,this.height=r,this.depth=s,this.pix_size=r*(e+1),this.data_size=2+this.pix_size+5*Math.floor((65534+this.pix_size)/65535)+4,this.ihdr_offs=0,this.ihdr_size=25,this.plte_offs=this.ihdr_offs+this.ihdr_size,this.plte_size=8+3*s+4,this.trns_offs=this.plte_offs+this.plte_size,this.trns_size=8+s+4,this.idat_offs=this.trns_offs+this.trns_size,this.idat_size=8+this.data_size+4,this.iend_offs=this.idat_offs+this.idat_size,this.iend_size=12,this.buffer_size=this.iend_offs+this.iend_size,this.buffer=new Array,this.palette=new Object,this.pindex=0;for(var o=new Array,a=0;a<this.buffer_size;a++)this.buffer[a]="\0";t(this.buffer,this.ihdr_offs,n(this.ihdr_size-12),"IHDR",n(e),n(r),"\b"),t(this.buffer,this.plte_offs,n(this.plte_size-12),"PLTE"),t(this.buffer,this.trns_offs,n(this.trns_size-12),"tRNS"),t(this.buffer,this.idat_offs,n(this.idat_size-12),"IDAT"),t(this.buffer,this.iend_offs,n(this.iend_size-12),"IEND");var l,c=30912;c+=31-c%31,t(this.buffer,this.idat_offs+8,(l=c,String.fromCharCode(l>>8&255,255&l)));for(a=0;(a<<16)-1<this.pix_size;a++){var u,h;a+65535<this.pix_size?(u=65535,h="\0"):(u=this.pix_size-(a<<16)-a,h=""),t(this.buffer,this.idat_offs+8+2+(a<<16)+(a<<2),h,i(u),i(~u))}for(a=0;a<256;a++){for(var f=a,d=0;d<8;d++)f=1&f?-306674912^f>>1&2147483647:f>>1&2147483647;o[a]=f}this.index=function(t,e){var n=e*(this.width+1)+t+1;return this.idat_offs+8+2+5*Math.floor(n/65535+1)+n},this.color=function(t,e,n,i){var r=(((i=i>=0?i:255)<<8|t)<<8|e)<<8|n;if(void 0===this.palette[r]){if(this.pindex==this.depth)return"\0";var s=this.plte_offs+8+3*this.pindex;this.buffer[s+0]=String.fromCharCode(t),this.buffer[s+1]=String.fromCharCode(e),this.buffer[s+2]=String.fromCharCode(n),this.buffer[this.trns_offs+8+this.pindex]=String.fromCharCode(i),this.palette[r]=String.fromCharCode(this.pindex++)}return this.palette[r]},this.getBase64=function(){var t,e,n,i,r,s,o,a=this.getDump(),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=a.length,u=0,h="";do{i=(t=a.charCodeAt(u))>>2,r=(3&t)<<4|(e=a.charCodeAt(u+1))>>4,n=a.charCodeAt(u+2),s=c<u+2?64:(15&e)<<2|n>>6,o=c<u+3?64:63&n,h+=l.charAt(i)+l.charAt(r)+l.charAt(s)+l.charAt(o)}while((u+=3)<c);return h},this.getDump=function(){for(var e=1,i=0,r=5552,s=0;s<this.height;s++)for(var a=-1;a<this.width;a++)i+=e+=this.buffer[this.index(a,s)].charCodeAt(0),0==(r-=1)&&(e%=65521,i%=65521,r=5552);function l(e,i,r){for(var s=-1,a=4;a<r-4;a+=1)s=o[255&(s^e[i+a].charCodeAt(0))]^s>>8&16777215;t(e,i+r-4,n(-1^s))}return e%=65521,i%=65521,t(this.buffer,this.idat_offs+this.idat_size-8,n(i<<16|e)),l(this.buffer,this.ihdr_offs,this.ihdr_size),l(this.buffer,this.plte_offs,this.plte_size),l(this.buffer,this.trns_offs,this.trns_size),l(this.buffer,this.idat_offs,this.idat_size),l(this.buffer,this.iend_offs,this.iend_size),"Â‰PNG\r\n\n"+this.buffer.join("")}};void 0!==e&&void 0!==e.exports?e.exports=r:window.PNGlib=r}()},{}],5:[function(t,e,n){var i,r,s=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(t){if(i===setTimeout)return setTimeout(t,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(t){i=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var c,u=[],h=!1,f=-1;function d(){h&&c&&(h=!1,c.length?u=c.concat(u):f=-1,u.length&&p())}function p(){if(!h){var t=l(d);h=!0;for(var e=u.length;e;){for(c=u,u=[];++f<e;)c&&c[f].run();f=-1,e=u.length}c=null,h=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function g(t,e){this.fun=t,this.array=e}function b(){}s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new g(t,e)),1!==u.length||h||l(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=b,s.addListener=b,s.once=b,s.off=b,s.removeListener=b,s.removeAllListeners=b,s.emit=b,s.prependListener=b,s.prependOnceListener=b,s.listeners=function(t){return[]},s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],6:[function(t,e,n){(function(t){void 0!==e&&(e.exports=function(e,n,i,r,s,o,a,l){"use strict";function c(t){var e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],n=1779033703,i=3144134277,r=1013904242,s=2773480762,o=1359893119,a=2600822924,l=528734635,c=1541459225,u=new Array(64);function h(t){for(var h=0,f=t.length;f>=64;){var d,p,g,b,m,v=n,y=i,w=r,x=s,_=o,I=a,k=l,z=c;for(p=0;p<16;p++)g=h+4*p,u[p]=(255&t[g])<<24|(255&t[g+1])<<16|(255&t[g+2])<<8|255&t[g+3];for(p=16;p<64;p++)b=((d=u[p-2])>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,m=((d=u[p-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3,u[p]=(b+u[p-7]|0)+(m+u[p-16]|0)|0;for(p=0;p<64;p++)b=(((_>>>6|_<<26)^(_>>>11|_<<21)^(_>>>25|_<<7))+(_&I^~_&k)|0)+(z+(e[p]+u[p]|0)|0)|0,m=((v>>>2|v<<30)^(v>>>13|v<<19)^(v>>>22|v<<10))+(v&y^v&w^y&w)|0,z=k,k=I,I=_,_=x+b|0,x=w,w=y,y=v,v=b+m|0;n=n+v|0,i=i+y|0,r=r+w|0,s=s+x|0,o=o+_|0,a=a+I|0,l=l+k|0,c=c+z|0,h+=64,f-=64}}h(t);var f,d=t.length%64,p=t.length/536870912|0,g=t.length<<3,b=d<56?56:120,m=t.slice(t.length-d,t.length);for(m.push(128),f=d+1;f<b;f++)m.push(0);return m.push(p>>>24&255),m.push(p>>>16&255),m.push(p>>>8&255),m.push(p>>>0&255),m.push(g>>>24&255),m.push(g>>>16&255),m.push(g>>>8&255),m.push(g>>>0&255),h(m),[n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,l>>>24&255,l>>>16&255,l>>>8&255,l>>>0&255,c>>>24&255,c>>>16&255,c>>>8&255,c>>>0&255]}function u(t,e,n){t.length>64&&(t=c(t.push?t:Array.prototype.slice.call(t,0)));var i,r=64+e.length+4,s=new Array(r),o=new Array(64),a=[];for(i=0;i<64;i++)s[i]=54;for(i=0;i<t.length;i++)s[i]^=t[i];for(i=0;i<e.length;i++)s[64+i]=e[i];for(i=r-4;i<r;i++)s[i]=0;for(i=0;i<64;i++)o[i]=92;for(i=0;i<t.length;i++)o[i]^=t[i];function l(){for(var t=r-1;t>=r-4;t--){if(s[t]++,s[t]<=255)return;s[t]=0}}for(;n>=32;)l(),a=a.concat(c(o.concat(c(s)))),n-=32;return n>0&&(l(),a=a.concat(c(o.concat(c(s))).slice(0,n))),a}function h(t,e,n,i){var r,s,o=t[0]^e[n++],a=t[1]^e[n++],l=t[2]^e[n++],c=t[3]^e[n++],u=t[4]^e[n++],h=t[5]^e[n++],f=t[6]^e[n++],d=t[7]^e[n++],p=t[8]^e[n++],g=t[9]^e[n++],b=t[10]^e[n++],m=t[11]^e[n++],v=t[12]^e[n++],y=t[13]^e[n++],w=t[14]^e[n++],x=t[15]^e[n++],_=o,I=a,k=l,z=c,A=u,C=h,T=f,L=d,E=p,S=g,N=b,D=m,j=v,P=y,M=w,O=x;for(s=0;s<8;s+=2)_^=(r=(j^=(r=(E^=(r=(A^=(r=_+j)<<7|r>>>25)+_)<<9|r>>>23)+A)<<13|r>>>19)+E)<<18|r>>>14,C^=(r=(I^=(r=(P^=(r=(S^=(r=C+I)<<7|r>>>25)+C)<<9|r>>>23)+S)<<13|r>>>19)+P)<<18|r>>>14,N^=(r=(T^=(r=(k^=(r=(M^=(r=N+T)<<7|r>>>25)+N)<<9|r>>>23)+M)<<13|r>>>19)+k)<<18|r>>>14,O^=(r=(D^=(r=(L^=(r=(z^=(r=O+D)<<7|r>>>25)+O)<<9|r>>>23)+z)<<13|r>>>19)+L)<<18|r>>>14,_^=(r=(z^=(r=(k^=(r=(I^=(r=_+z)<<7|r>>>25)+_)<<9|r>>>23)+I)<<13|r>>>19)+k)<<18|r>>>14,C^=(r=(A^=(r=(L^=(r=(T^=(r=C+A)<<7|r>>>25)+C)<<9|r>>>23)+T)<<13|r>>>19)+L)<<18|r>>>14,N^=(r=(S^=(r=(E^=(r=(D^=(r=N+S)<<7|r>>>25)+N)<<9|r>>>23)+D)<<13|r>>>19)+E)<<18|r>>>14,O^=(r=(M^=(r=(P^=(r=(j^=(r=O+M)<<7|r>>>25)+O)<<9|r>>>23)+j)<<13|r>>>19)+P)<<18|r>>>14;e[i++]=t[0]=_+o|0,e[i++]=t[1]=I+a|0,e[i++]=t[2]=k+l|0,e[i++]=t[3]=z+c|0,e[i++]=t[4]=A+u|0,e[i++]=t[5]=C+h|0,e[i++]=t[6]=T+f|0,e[i++]=t[7]=L+d|0,e[i++]=t[8]=E+p|0,e[i++]=t[9]=S+g|0,e[i++]=t[10]=N+b|0,e[i++]=t[11]=D+m|0,e[i++]=t[12]=j+v|0,e[i++]=t[13]=P+y|0,e[i++]=t[14]=M+w|0,e[i++]=t[15]=O+x|0}function f(t,e,n,i,r){for(;r--;)t[e++]=n[i++]}function d(t,e,n,i,r){for(;r--;)t[e++]^=n[i++]}function p(t,e,n,i,r){f(t,0,e,n+16*(2*r-1),16);for(var s=0;s<2*r;s+=2)h(t,e,n+16*s,i+8*s),h(t,e,n+16*s+16,i+8*s+16*r)}function g(t,e,n){return t[e+16*(2*n-1)]}function b(t){for(var e=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);if(i<128)e.push(i);else if(i<2048)e.push(192|i>>6),e.push(128|63&i);else if(i<55296)e.push(224|i>>12),e.push(128|i>>6&63),e.push(128|63&i);else{if(n>=t.length-1)throw new Error("invalid string");n++,i=(1023&i)<<10,i|=1023&t.charCodeAt(n),i+=65536,e.push(240|i>>18),e.push(128|i>>12&63),e.push(128|i>>6&63),e.push(128|63&i)}}return e}var m=1;if("object"==typeof i){if(arguments.length>4)throw new Error("scrypt: incorrect number of arguments");var v=i;if(a=r,void 0===(i=v.logN)){if(void 0===v.N)throw new Error("scrypt: missing N parameter");if(v.N<2||v.N>-1>>>0)throw new Error("scrypt: N is out of range");if(0!=(v.N&v.N-1))throw new Error("scrypt: N is not a power of 2");i=Math.log(v.N)/Math.LN2}m=v.p||1,r=v.r,s=v.dkLen||32,o=v.interruptStep||0,l=v.encoding}if(m<1)throw new Error("scrypt: invalid p");if(r<=0)throw new Error("scrypt: invalid r");if(i<1||i>31)throw new Error("scrypt: logN must be between 1 and 31");var y,w,x,_,I=1<<i>>>0;if(r*m>=1<<30||r>(-1>>>0)/128/m||r>(-1>>>0)/256||I>(-1>>>0)/128/r)throw new Error("scrypt: parameters are too large");"string"==typeof e&&(e=b(e)),"string"==typeof n&&(n=b(n)),"undefined"!=typeof Int32Array?(y=new Int32Array(64*r),w=new Int32Array(32*I*r),_=new Int32Array(16)):(y=[],w=[],_=new Array(16)),x=u(e,n,128*m*r);var k=0,z=32*r;function A(t){for(var e=0;e<32*r;e++){var n=t+4*e;y[k+e]=(255&x[n+3])<<24|(255&x[n+2])<<16|(255&x[n+1])<<8|(255&x[n+0])<<0}}function C(t,e){for(var n=t;n<e;n+=2)f(w,n*(32*r),y,k,32*r),p(_,y,k,z,r),f(w,(n+1)*(32*r),y,z,32*r),p(_,y,z,k,r)}function T(t,e){for(var n=t;n<e;n+=2){var i=g(y,k,r)&I-1;d(y,k,w,i*(32*r),32*r),p(_,y,k,z,r),i=g(y,z,r)&I-1,d(y,z,w,i*(32*r),32*r),p(_,y,z,k,r)}}function L(t){for(var e=0;e<32*r;e++){var n=y[k+e];x[t+4*e+0]=n>>>0&255,x[t+4*e+1]=n>>>8&255,x[t+4*e+2]=n>>>16&255,x[t+4*e+3]=n>>>24&255}}var E=void 0!==t?t:setTimeout;function S(t,e,n,i,r){!function s(){E(function(){i(t,t+n<e?t+n:e),(t+=n)<e?s():r()})}()}function N(t){var n=u(e,x,s);return"base64"===t?function(t){for(var e,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),i=t.length,r=[],s=0;s<i;)e=((s<i?t[s++]:0)<<16)+((s<i?t[s++]:0)<<8)+(s<i?t[s++]:0),r.push(n[e>>>18&63]),r.push(n[e>>>12&63]),r.push(n[e>>>6&63]),r.push(n[e>>>0&63]);return i%3>0&&(r[r.length-1]="=",i%3==1&&(r[r.length-2]="=")),r.join("")}(n):"hex"===t?function(t){for(var e="0123456789abcdef".split(""),n=t.length,i=[],r=0;r<n;r++)i.push(e[t[r]>>>4&15]),i.push(e[t[r]>>>0&15]);return i.join("")}(n):"binary"===t?new Uint8Array(n):n}"function"==typeof o&&(l=a,a=o,o=1e3),o<=0?function(){for(var t=0;t<m;t++)A(128*t*r),C(0,I),T(0,I),L(128*t*r);a(N(l))}():function t(e){A(128*e*r),S(0,I,2*o,C,function(){S(0,I,2*o,T,function(){L(128*e*r),e+1<m?E(function(){t(e+1)}):a(N(l))})})}(0)})}).call(this,t("timers").setImmediate)},{timers:7}],7:[function(t,e,n){(function(e,i){var r=t("process/browser.js").nextTick,s=Function.prototype.apply,o=Array.prototype.slice,a={},l=0;function c(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new c(s.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(s.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n.setImmediate="function"==typeof e?e:function(t){var e=l++,i=!(arguments.length<2)&&o.call(arguments,1);return a[e]=!0,r(function(){a[e]&&(i?t.apply(null,i):t.call(null),n.clearImmediate(e))}),e},n.clearImmediate="function"==typeof i?i:function(t){delete a[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":5,timers:7}],8:[function(t,e,n){"use strict";const i=t("aprico-gen"),r={"aprico-gen":i.version,"aprico-ui":"0.1.2"},s=function t(e){function n(t,e){return t>>>e|t<<32-e}for(var i,r,s=Math.pow,o=s(2,32),a="length",l="",c=[],u=8*e[a],h=t.h=t.h||[],f=t.k=t.k||[],d=f[a],p={},g=2;64>d;g++)if(!p[g]){for(i=0;313>i;i+=g)p[i]=g;h[d]=s(g,.5)*o|0,f[d++]=s(g,1/3)*o|0}for(e+="Â€";e[a]%64-56;)e+="\0";for(i=0;i<e[a];i++){if((r=e.charCodeAt(i))>>8)return;c[i>>2]|=r<<(3-i)%4*8}for(c[c[a]]=u/o|0,c[c[a]]=u,r=0;r<c[a];){var b=c.slice(r,r+=16),m=h;for(h=h.slice(0,8),i=0;64>i;i++){var v=b[i-15],y=b[i-2],w=h[0],x=h[4],_=h[7]+(n(x,6)^n(x,11)^n(x,25))+(x&h[5]^~x&h[6])+f[i]+(b[i]=16>i?b[i]:b[i-16]+(n(v,7)^n(v,18)^v>>>3)+b[i-7]+(n(y,17)^n(y,19)^y>>>10)|0);(h=[_+((n(w,2)^n(w,13)^n(w,22))+(w&h[1]^w&h[2]^h[1]&h[2]))|0].concat(h))[4]=h[4]+_|0}for(i=0;8>i;i++)h[i]=h[i]+m[i]|0}for(i=0;8>i;i++)for(r=3;r+1;r--){var I=h[i]>>8*r&255;l+=(16>I?0:"")+I.toString(16)}return l},o=t("identicon.js"),a=t("./templates.js"),l=t("./utils.js"),c="undefined"!=typeof browser&&browser.runtime&&browser.runtime.id||"undefined"!=typeof chrome&&chrome.runtime&&chrome.runtime.id;c&&"undefined"==typeof chrome&&(window.chrome=browser);const u={foreground:[239,61,51,255],background:[255,255,255,255],margin:.24,size:41,format:"svg"};let h,f,d;r["aprico-gen"].replace(/\./g,"_");function p(){f=!1,c?chrome.storage.local.set({hashId:""},b):(localStorage.setItem("hashId",""),b())}function g(t){t&&t.hashId?(f=t.hashId,m()):(f=!1,b())}function b(){let t=l.stringToDom(d.login);h.firstChild&&h.removeChild(h.firstChild),h.appendChild(t),function(){let t=l.getId("ap-hashid"),e=l.getId("ap-trigger-login");t.focus(),e.addEventListener("click",function(e){var n;e.preventDefault(),t.value?(f=i.getHashId(t.value),f=n=f,c?chrome.storage.local.set({hashId:n},m):(localStorage.setItem("hashId",n),m())):t.focus()})}()}function m(){let t=l.stringToDom(d.main);h.firstChild&&h.removeChild(h.firstChild),h.appendChild(t),function(){let t=l.getId("ap-pass"),e=l.getId("ap-service"),n=l.getId("ap-result"),r=l.getId("ap-trigger-gen"),a=l.getId("ap-variant"),h=l.getId("ap-letters"),d=l.getId("ap-numbers"),g=l.getId("ap-symbols"),b=l.getId("ap-length"),m=l.getId("ap-trigger-extra"),v=l.getId("a-pass-label"),y=l.getId("ap-copy"),w=l.getId("ap-show"),x=l.getId("aprico-extra"),_=l.getId("aprico-result"),I=l.getId("aprico-about");c?chrome.tabs.query({active:!0,currentWindow:!0},function(n){n[0].url.indexOf(".")>0?(e.value=i.normalizeService(n[0].url),t.focus()):e.focus()}):e.focus();async function k(s){if(!e.value)return e.focus(),!1;if(!t.value)return t.focus(),!1;let o,c,u;await new Promise(function(t){return v.classList.remove("icon","icon-done","icon-alldone"),y.classList.add("hidden"),w.classList.add("hidden"),n.classList.remove("border-red"),m.classList.remove("bg-gray-1"),z(_),o=setInterval(function(){v.textContent+="."},50),v.classList.add("red"),v.textContent="Generating.",r.disabled=!0,m.disabled=!0,n.value="",setTimeout(t,100)}),await new Promise(function(r){(new Date).getTime();return c=i.getPassword(t.value,e.value,f,{length:+b.value,letters:+h.checked,numbers:+d.checked,symbols:+g.checked,variant:a.value}),n.value=c.pass,c=!1,u=l.copyToClipboard(n),setTimeout(r,100)}),await new Promise(function(t){return n.classList.add("border-red"),v.classList.remove("red"),clearInterval(o),u?(v.classList.add("icon","icon-alldone"),v.textContent="Password copied to clipboard."):(v.classList.add("icon","icon-done"),v.textContent="Password is ready.",y.classList.remove("hidden")),w.classList.remove("hidden"),r.disabled=!1,m.disabled=!1,t()})}function z(t){_.hidden=!0,I.hidden=!0,x.hidden=!0,t.hidden=!1}e.addEventListener("blur",function(t){this.value=i.normalizeService(this.value)}),t.addEventListener("input",function(e){if(this.value.length){let e=btoa(encodeURIComponent(this.value).replace(/%([0-9A-F]{2})/g,function(t,e){return String.fromCharCode(parseInt(e,16))})),n=new o(s(f+e),u).toString();t.style.backgroundImage="url(data:image/svg+xml;base64,"+n+")"}else t.style.backgroundImage=""}),t.addEventListener("keyup",function(t){"Enter"===t.key&&k()}),m.addEventListener("click",function(t){t.preventDefault(),this.classList.contains("bg-gray-1")?(this.classList.remove("bg-gray-1"),z(I)):(this.classList.add("bg-gray-1"),z(x))}),n.addEventListener("focus",function(){this.type="text"}),n.addEventListener("blur",function(){this.type="password"}),r.addEventListener("click",k),y.addEventListener("click",function(t){let e=l.copyToClipboard(n);e&&(v.textContent="Password copied to clipboard.")}),l.getId("ap-delete-hash").addEventListener("click",p),w.addEventListener("click",function(t){n.focus()});let A=document.querySelectorAll("input");Array.from(A).forEach(function(t){t.addEventListener("input",function(){1!=_.hidden&&z(I)})});let C=document.querySelectorAll(".switch-toggle");function T(){let t=Array.prototype.slice.call(C).some(t=>t.checked);t||(this.checked=!0)}[...C].forEach(t=>t.addEventListener("change",T)),b.addEventListener("blur",function(){0==+this.value?this.value=20:+this.value<4?this.value=4:+this.value>40&&(this.value=40)}),l.getId("ap-link-about").addEventListener("click",function(){window.open("https://aprico.org/")})}()}e.exports=function(t,e){if(!(h=document.querySelector(t)))throw new Error("Root element is undefined.");d=e||a,c?(h.classList.add("aprico-webext"),chrome.storage.local.get("hashId",g)):(h.classList.add("aprico-browser"),g({hashId:localStorage.getItem("hashId")}))},e.exports.version=r},{"./templates.js":10,"./utils.js":11,"aprico-gen":1,"identicon.js":3}],9:[function(t,e,n){t("./aprico-ui.js")("#aprico")},{"./aprico-ui.js":8}],10:[function(t,e,n){const i={login:'\n  <div id="aprico-login" class="p2 bg-white">\n\t<div class="mb2">\n      <label class="label">ID</label>\n      <input type="text" id="ap-hashid" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">\n  \t</div>\n  \t<div class="mb2 h6">\n  \t\t<p><strong>Please choose an ID:</strong> it can be your e-mail address, your nickname or a longer passphrase.</p>\n      <p>It will be only asked once, but please, <strong>make sure to remeber it</strong> as there is no way to recover your ID.</p>\n    </div>\n  \t<div class="mb2">\n      <button id="ap-trigger-login" class="btn btn-primary h6 caps white">Start using Aprico</button>\n  \t</div>\n    <div class="border-top border-gray-2 pt2">\n      <p class="h6"><strong>Aprico</strong> is a deterministic password manager that works 100% in your browser. No data will ever be sent to any server or cloud. You can read more in our super friendly <a href="https://aprico.org/privacy.html">Privacy Policy</a>.</h6>\n    </div>\n    </div>\n  \t',main:'\n  <div id="aprico-main">\n  <div class="p2 bg-white">\n  \t<div class="mb2">\n      <label class="label">Service</label>\n      <input type="text" id="ap-service" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">\n  \t</div>\n  \t<div class="mb2">\n      <label class="label">Master Password</label>\n      <input type="password" id="ap-pass" class="bg-identicon">\n  \t</div>\n  \t<div class="-mb2">\n    \t<div class="flex">\n      \t<button id="ap-trigger-gen" class="btn btn-primary white h6 caps" style="margin-left:1px">Get Password</button>\n      \t<span class="flex-auto"></span>\n      \t<button id="ap-trigger-extra" class="btn h6 caps right icon icon-opts px0 border-gray rounded"><span style="opacity:0">More</span></button>\n    \t</div>\n  \t</div>\n  </div>\n\n  <div id="aprico-extra" class="bg-gray-1 p2" hidden>\n    <div class="flex justify-between mb2">\n        <div class="-mb2 col-3 ">\n            <label class="label">Length</label>\n            <input type="number" min="4" max="40" value="20" id="ap-length">\n        </div>\n        <div class="-mb2 col-9 flex-auto pl2">\n            <label class="label">Alphabet</label>\n            <ul class="list-reset flex justify-between center">\n                <li>\n                    <input type="checkbox" checked id="ap-letters" class="switch-toggle switch-toggle-round">\n                    <label for="ap-letters"><span class="mt2 block">Letters</span></label>\n                </li>\n                <li>\n                    <input type="checkbox" checked id="ap-numbers" class="switch-toggle switch-toggle-round">\n                    <label for="ap-numbers"><span class="mt2 block">Numbers</span></label>\n                </li>\n                <li>\n                    <input type="checkbox" checked id="ap-symbols" class="switch-toggle switch-toggle-round">\n                    <label for="ap-symbols"><span class="mt2 block">Symbols</span></label>\n                </li>\n            </ul>\n        </div>\n    </div>\n    <div class="">\n        <div class="-mb2">\n            <label class="label">Variant</label>\n            <input type="text" id="ap-variant">\n        </div>\n    </div>\n  </div>\n\n  <div id="aprico-result" class="-bg-black bg-gray-1 -white p2" hidden>\n  <div class="mb2">\n      <label class="label bold -white mb2" id="a-pass-label">Password</label>\n      <input type="password" id="ap-result" class="monospace" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" readonly="true">\n  </div>\n  <div class="flex">\n  <button class="btn btn-small -white h6 px0 hidden mr2 icon icon-view weight-400" id="ap-show">Show</button>\n  <button class="btn btn-small -white h6 px0 hidden icon icon-copy weight-400" id="ap-copy">Copy</button>\n  </div>\n  </div>\n\n  <div id="aprico-about">\n  <div class="flex flex-column bg-gray-1" style="min-height:126px">\n  <div class="flex-auto p2">\n  <p class="h5">Thank you for using <strong>Aprico</strong>.</p>\n  </div>\n  <div class="flex p2">\n  <button id="ap-link-about" class="btn btn-small h6 px0 mr1 icon icon-open weight-400">About</button>\n  <button id="ap-link-online" class="hide btn btn-small h6 px0 icon icon-open">Online Version</button>\n  <span class="flex-auto"></span>\n  <button class="btn btn-small h6 px0 icon icon-logout" id="ap-delete-hash">Change ID</button>\n  </div>  \n  </div>\n  </div>\n</div>\n\t'};e.exports=i},{}],11:[function(t,e,n){"use strict";const i={getId:function(t){return document.getElementById(t)},stringToDom:function(t){return document.createRange().createContextualFragment(t.trim())},copyToClipboard:function(t){t.type="text",t.select();let e=document.execCommand("copy");return t.type="password",t.selectionEnd=t.selectionStart,t.blur(),e},chainOnTransitionEnd:function(t,e){let n=function(i){i.target.removeEventListener(i.type,n),i.target==e&&t()};return e.addEventListener("transitionend",n),this}};e.exports=i},{}]},{},[9]);
